{% extends "base.html" %}
{% load static %}

{% block 'header' %}
    <link href="{% static 'users/css/register.css' %}" rel="stylesheet">
    <link href="{% static 'flashcard/css/new_flashcard.css' %}" rel="stylesheet">
    <link href="{% static 'flashcard/css/start_challenge.css' %}" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        .swal2-popup {
            background-color: #2c3e50;
            color: #ffffff;
        }
        .dark-theme .swal2-title {
            color: #ffffff;
        }
        .dark-theme .swal2-content {
            color: #ffffff;
        }
        .dark-theme .swal2-popup .swal2-header {
            background-color: #2c3e50;
        }
    </style>
{% endblock 'header' %}

{% block 'content' %}

    {% include "partials/header.html" %}

    <script>
        var messages = "A quantidade de questões solicitadas é maior do que a quantidade disponível no banco de dados.";

        if (messages) {
            Swal.fire({
                icon: 'error',
                title: 'Oops...',
                text: messages,
            });
        }
    </script>
    
    <div class="container ctx">
        <br>
        <br>
        <h2 class="main-source">Iniciar desafio</h2>
        <p class="secondary-source">Escolha as categorias e a dificuldade do desafio</p>
        <div class="row">
            <div class="col-md">
                <form action="{% url 'start_challenge' %}" method="POST">{% csrf_token%}
                <label for="">Titulo</label>
                <input type="text" class="form-control" name="title">
            </div>
            <div class="col-md">
                <label>Categoria</label>
                <select name="category" class="form-select" multiple>
                    {% for category in category %}
                        <option value="{{category.id}}">
                            {{category.nome}}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md">
                <label>Dificuldade</label>
                <select name="difficulty" class="form-select">
                    {% for difficulty in difficulty %}
                        <option value="{{difficulty.0}}">
                            {{difficulty.1}}
                        </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md">
                <label>Quantidade de questões</label>
                <input type="number" class="form-control" name="qty_questions">
            </div>
        </div>
        <br>
        <br>
        <input type="submit" class="btn-registration" value="Iniciar desafio">
        </form>
    </div>
{% endblock 'content' %}